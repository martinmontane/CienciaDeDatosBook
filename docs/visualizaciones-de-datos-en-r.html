<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Visualizaciones de datos en R | Ciencia de datos para curiosos</title>
  <meta name="description" content="Una introducción practica a la Ciencia de Datos" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Visualizaciones de datos en R | Ciencia de datos para curiosos" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="Figuras/GatoCurioso.png" />
  <meta property="og:description" content="Una introducción practica a la Ciencia de Datos" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Visualizaciones de datos en R | Ciencia de datos para curiosos" />
  
  <meta name="twitter:description" content="Una introducción practica a la Ciencia de Datos" />
  <meta name="twitter:image" content="Figuras/GatoCurioso.png" />

<meta name="author" content="Martin Montane" />


<meta name="date" content="2020-05-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="transformando-nuestros-datos-data-wrangling.html"/>
<link rel="next" href="datos-espaciales-en-r.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>¡Sólo curiosos de acá en adelante!</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#qué-necesitamos-para-arrancar"><i class="fa fa-check"></i>¿Qué necesitamos para arrancar?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html"><i class="fa fa-check"></i><b>1</b> Introduccion practica a la Ciencia de Datos</a><ul>
<li class="chapter" data-level="1.1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#nuestra-primera-investigación-el-precio-de-las-propiedades-en-caba"><i class="fa fa-check"></i><b>1.1</b> Nuestra primera investigación: el precio de las propiedades en CABA</a></li>
<li class="chapter" data-level="1.2" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#conociendo-rstudio"><i class="fa fa-check"></i><b>1.2</b> Conociendo RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#proyectos-en-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Proyectos en RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#importando-datos-a-r"><i class="fa fa-check"></i><b>1.3</b> Importando datos a R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#comma-separated-values"><i class="fa fa-check"></i><b>1.3.1</b> Comma Separated Values</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#cómo-r-organiza-los-datos"><i class="fa fa-check"></i><b>1.4</b> ¿Cómo R organiza los datos?</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#vectores"><i class="fa fa-check"></i><b>1.4.1</b> Vectores</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#listas-y-data-frames"><i class="fa fa-check"></i><b>1.4.2</b> Listas y Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#inspeccionando-nuestros-datos"><i class="fa fa-check"></i><b>1.5</b> Inspeccionando nuestros datos</a></li>
<li class="chapter" data-level="1.6" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#retomando-nuestro-ejercicio-cuánto-aumentaron-las-viviendas"><i class="fa fa-check"></i><b>1.6</b> Retomando nuestro ejercicio: ¿Cuánto aumentaron las viviendas?</a></li>
<li class="chapter" data-level="1.7" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#conclusiones"><i class="fa fa-check"></i><b>1.7</b> Conclusiones</a></li>
<li class="chapter" data-level="1.8" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#ejercicios"><i class="fa fa-check"></i><b>1.8</b> Ejercicios</a></li>
<li class="chapter" data-level="1.9" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#extensión-cargando-y-guardando-datos-de-otros-formatos"><i class="fa fa-check"></i><b>1.9</b> Extensión: cargando y guardando datos de otros formatos</a><ul>
<li class="chapter" data-level="1.9.1" data-path="introduccion-practica-a-la-ciencia-de-datos.html"><a href="introduccion-practica-a-la-ciencia-de-datos.html#microsoft-excel"><i class="fa fa-check"></i><b>1.9.1</b> Microsoft Excel</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html"><i class="fa fa-check"></i><b>2</b> Transformando nuestros datos (data wrangling)</a><ul>
<li class="chapter" data-level="2.1" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#instalando-nuestro-primer-paquete-en-r-tidyverse"><i class="fa fa-check"></i><b>2.1</b> Instalando nuestro primer paquete en R: tidyverse</a></li>
<li class="chapter" data-level="2.2" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#el-dataset-gapminder"><i class="fa fa-check"></i><b>2.2</b> El dataset <em>gapminder</em></a></li>
<li class="chapter" data-level="2.3" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#transformaciones-de-los-datos"><i class="fa fa-check"></i><b>2.3</b> Transformaciones de los datos</a><ul>
<li class="chapter" data-level="2.3.1" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#selección-de-columnas-select"><i class="fa fa-check"></i><b>2.3.1</b> Selección de columnas: select()</a></li>
<li class="chapter" data-level="2.3.2" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#selección-de-casos-filter"><i class="fa fa-check"></i><b>2.3.2</b> Selección de casos: <code>filter()</code></a></li>
<li class="chapter" data-level="2.3.3" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#ordenando-la-función-arrange"><i class="fa fa-check"></i><b>2.3.3</b> Ordenando: la función arrange()</a></li>
<li class="chapter" data-level="2.3.4" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#creando-y-modificando-variables-mutate"><i class="fa fa-check"></i><b>2.3.4</b> Creando y modificando variables: mutate()</a></li>
<li class="chapter" data-level="2.3.5" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#resumiendo-y-transformando-datos-en-base-a-grupos"><i class="fa fa-check"></i><b>2.3.5</b> Resumiendo y transformando datos en base a grupos</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#transformando-la-presentación-de-los-datos-pivot_wider-y-pivot_longer"><i class="fa fa-check"></i><b>2.4</b> Transformando la presentación de los datos: pivot_wider y pivot_longer</a></li>
<li class="chapter" data-level="2.5" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#uniendo-datos-de-distintas-fuentes-left_join"><i class="fa fa-check"></i><b>2.5</b> Uniendo datos de distintas fuentes: left_join</a></li>
<li class="chapter" data-level="2.6" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#la-mise-en-place-preparando-el-dataset-de-inmuebles"><i class="fa fa-check"></i><b>2.6</b> La <em>mise en place</em>: preparando el dataset de inmuebles</a></li>
<li class="chapter" data-level="2.7" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#ejercicios-1"><i class="fa fa-check"></i><b>2.7</b> Ejercicios</a></li>
<li class="chapter" data-level="2.8" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#extensiones"><i class="fa fa-check"></i><b>2.8</b> Extensiones</a><ul>
<li class="chapter" data-level="2.8.1" data-path="transformando-nuestros-datos-data-wrangling.html"><a href="transformando-nuestros-datos-data-wrangling.html#r-cheatsheets"><i class="fa fa-check"></i><b>2.8.1</b> R Cheatsheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html"><i class="fa fa-check"></i><b>3</b> Visualizaciones de datos en R</a><ul>
<li class="chapter" data-level="3.1" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#la-importancia-de-la-visualización-de-los-datos"><i class="fa fa-check"></i><b>3.1</b> La importancia de la visualización de los datos</a></li>
<li class="chapter" data-level="3.2" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#ggplot-grammar-of-graphics"><i class="fa fa-check"></i><b>3.2</b> GGPLOT: Grammar of Graphics</a></li>
<li class="chapter" data-level="3.3" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cuál-es-la-relación-entre-el-ingreso-de-un-país-y-la-expectativa-de-vida-al-nacer-scatterplot"><i class="fa fa-check"></i><b>3.3</b> ¿Cuál es la relación entre el ingreso de un país y la expectativa de vida al nacer? Scatterplot</a><ul>
<li class="chapter" data-level="3.3.1" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#agregando-colores-según-otras-variables"><i class="fa fa-check"></i><b>3.3.1</b> Agregando colores según otras variables</a></li>
<li class="chapter" data-level="3.3.2" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#creando-paneles-con-facet_wrap"><i class="fa fa-check"></i><b>3.3.2</b> Creando paneles con facet_wrap()</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cuál-fue-la-evolución-de-la-expectativa-de-vida-al-nacer-gráfico-de-líneas"><i class="fa fa-check"></i><b>3.4</b> ¿Cuál fue la evolución de la expectativa de vida al nacer? Gráfico de líneas</a><ul>
<li class="chapter" data-level="3.4.1" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cambiando-la-apariencia-de-las-leyendas"><i class="fa fa-check"></i><b>3.4.1</b> Cambiando la apariencia de las leyendas</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#reproduciendo-el-gráfico-de-hans-rosling"><i class="fa fa-check"></i><b>3.5</b> Reproduciendo el gráfico de Hans Rosling</a><ul>
<li class="chapter" data-level="3.5.1" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#exportando-gráficos-de-ggplot"><i class="fa fa-check"></i><b>3.5.1</b> Exportando gráficos de ggplot</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#ejercicios-2"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
<li class="chapter" data-level="3.7" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#extensión-animando-el-gráfico-de-hans-rosling"><i class="fa fa-check"></i><b>3.7</b> Extensión: animando el gráfico de Hans Rosling</a></li>
<li class="chapter" data-level="3.8" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#en-una-baldosa-las-preguntas-más-frecuentes"><i class="fa fa-check"></i><b>3.8</b> En una baldosa: las preguntas más frecuentes</a><ul>
<li class="chapter" data-level="3.8.1" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-puedo-hacer-un-gráfico-de-barras"><i class="fa fa-check"></i><b>3.8.1</b> 1. ¿Cómo puedo hacer un gráfico de barras?</a></li>
<li class="chapter" data-level="3.8.2" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-ordeno-mis-datos-en-ggplot"><i class="fa fa-check"></i><b>3.8.2</b> 2. ¿Cómo ordeno mis datos en ggplot?</a></li>
<li class="chapter" data-level="3.8.3" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-hago-gráficos-de-barras-apiladas-stacked-bars"><i class="fa fa-check"></i><b>3.8.3</b> 3. ¿Cómo hago gráficos de barras apiladas (stacked bars)?</a></li>
<li class="chapter" data-level="3.8.4" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-hago-agrego-texto-a-los-gráficos"><i class="fa fa-check"></i><b>3.8.4</b> 4. ¿Cómo hago agrego texto a los gráficos?</a></li>
<li class="chapter" data-level="3.8.5" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-cambio-el-rango-del-eje-x-o-y"><i class="fa fa-check"></i><b>3.8.5</b> 5. ¿Cómo cambio el rango del eje x o y?</a></li>
<li class="chapter" data-level="3.8.6" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-cambio-la-tipografía"><i class="fa fa-check"></i><b>3.8.6</b> 6. ¿Cómo cambio la tipografía?</a></li>
<li class="chapter" data-level="3.8.7" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#cómo-hago-treemaps"><i class="fa fa-check"></i><b>3.8.7</b> 7. ¿Cómo hago treemaps?</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="visualizaciones-de-datos-en-r.html"><a href="visualizaciones-de-datos-en-r.html#material-de-lectura"><i class="fa fa-check"></i><b>3.9</b> Material de lectura</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html"><i class="fa fa-check"></i><b>4</b> Datos espaciales en R</a><ul>
<li class="chapter" data-level="4.1" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#qué-es-un-dato-espacial"><i class="fa fa-check"></i><b>4.1</b> ¿Qué es un dato espacial?</a></li>
<li class="chapter" data-level="4.2" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#dónde-estamos-en-la-tierra"><i class="fa fa-check"></i><b>4.2</b> ¿Dónde estamos en la Tierra?</a></li>
<li class="chapter" data-level="4.3" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#coordinate-reference-systems"><i class="fa fa-check"></i><b>4.3</b> Coordinate Reference Systems</a><ul>
<li class="chapter" data-level="4.3.1" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#elipsoides-sistemas-de-coordenadas-y-datums"><i class="fa fa-check"></i><b>4.3.1</b> Elipsoides, sistemas de coordenadas y datums</a></li>
<li class="chapter" data-level="4.3.2" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#proyecciones"><i class="fa fa-check"></i><b>4.3.2</b> Proyecciones</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#un-ejemplo-datos-públicos-de-gcba-y-properati"><i class="fa fa-check"></i><b>4.4</b> Un ejemplo: datos públicos de GCBA y Properati</a><ul>
<li class="chapter" data-level="4.4.1" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#caba"><i class="fa fa-check"></i><b>4.4.1</b> CABA</a></li>
<li class="chapter" data-level="4.4.2" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#properati"><i class="fa fa-check"></i><b>4.4.2</b> Properati</a></li>
<li class="chapter" data-level="4.4.3" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#asignando-los-inmuebles-a-los-barrios"><i class="fa fa-check"></i><b>4.4.3</b> Asignando los inmuebles a los barrios</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#otras-operaciones-espaciales"><i class="fa fa-check"></i><b>4.5</b> Otras operaciones espaciales</a></li>
<li class="chapter" data-level="4.6" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#incorporando-información-a-nuestro-dataset-los-subtes"><i class="fa fa-check"></i><b>4.6</b> Incorporando información a nuestro dataset: los subtes</a><ul>
<li class="chapter" data-level="4.6.1" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#una-alternativa-más-simple-usando-otro-método-de-join-espacial"><i class="fa fa-check"></i><b>4.6.1</b> Una alternativa más simple: usando otro método de join espacial</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="datos-espaciales-en-r.html"><a href="datos-espaciales-en-r.html#ejercicio"><i class="fa fa-check"></i><b>4.7</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html"><i class="fa fa-check"></i><b>5</b> Data wrangling de datos espaciales</a><ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#introduccion"><i class="fa fa-check"></i><b>5.1</b> Introduccion</a></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#areal-weighted-interpolation"><i class="fa fa-check"></i><b>5.2</b> Areal weighted interpolation</a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#carga-de-los-datos"><i class="fa fa-check"></i><b>5.2.1</b> Carga de los datos</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#diferentes-radios-censales"><i class="fa fa-check"></i><b>5.2.2</b> Diferentes radios censales</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#make-polygons-comparable-again"><i class="fa fa-check"></i><b>5.2.3</b> Make polygons comparable again</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#haciendo-mapas-de-nuestros-nuevos-datos"><i class="fa fa-check"></i><b>5.3</b> Haciendo mapas de nuestros nuevos datos</a></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling-de-datos-espaciales.html"><a href="data-wrangling-de-datos-espaciales.html#ejercicio-1"><i class="fa fa-check"></i><b>5.4</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html"><i class="fa fa-check"></i><b>6</b> El automovil de la estadistica</a><ul>
<li class="chapter" data-level="6.1" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#cuál-es-la-relación-entre-la-altura-y-el-peso-de-las-personas"><i class="fa fa-check"></i><b>6.1</b> ¿Cuál es la relación entre la altura y el peso de las personas?</a></li>
<li class="chapter" data-level="6.2" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#el-objetivo-de-la-regresión-lineal"><i class="fa fa-check"></i><b>6.2</b> El “objetivo” de la regresión lineal</a></li>
<li class="chapter" data-level="6.3" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#agregando-variables-explicativas"><i class="fa fa-check"></i><b>6.3</b> Agregando variables explicativas</a><ul>
<li class="chapter" data-level="6.3.1" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#interpretación-de-los-coeficientes-y-su-incertidumbre"><i class="fa fa-check"></i><b>6.3.1</b> Interpretación de los coeficientes (y su incertidumbre)</a></li>
<li class="chapter" data-level="6.3.2" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#entonces-pesar-un-kilo-más-aumenta-la-altura-en-aproximadamente-un-centímetro"><i class="fa fa-check"></i><b>6.3.2</b> ¿Entonces pesar un kilo más aumenta la altura en aproximadamente un centímetro?</a></li>
<li class="chapter" data-level="6.3.3" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#intervalos-de-confianza-otra-forma-de-pensar-la-incertidumbre"><i class="fa fa-check"></i><b>6.3.3</b> Intervalos de confianza: otra forma de pensar la incertidumbre</a></li>
<li class="chapter" data-level="6.3.4" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#qué-explica-y-que-no-nuestra-regresión"><i class="fa fa-check"></i><b>6.3.4</b> Qué explica y que no nuestra regresión</a></li>
<li class="chapter" data-level="6.3.5" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#incertidumbre-en-el-promedio-e-incertidumbre-en-el-valor-predicho"><i class="fa fa-check"></i><b>6.3.5</b> Incertidumbre en el promedio e incertidumbre en el valor predicho</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#regresión-lineal-múltiple-controlando-por-otros-factores"><i class="fa fa-check"></i><b>6.4</b> Regresión lineal múltiple: controlando por otros factores</a><ul>
<li class="chapter" data-level="6.4.1" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#asociación-espuria"><i class="fa fa-check"></i><b>6.4.1</b> Asociación espuria</a></li>
<li class="chapter" data-level="6.4.2" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#relación-enmascarada"><i class="fa fa-check"></i><b>6.4.2</b> Relación enmascarada</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#una-razón-para-ser-cuidadoso-al-interpretar-los-coeficientes-la-multicolinealidad"><i class="fa fa-check"></i><b>6.5</b> Una razón para ser cuidadoso al interpretar los coeficientes: la multicolinealidad</a></li>
<li class="chapter" data-level="6.6" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#ejercicios-3"><i class="fa fa-check"></i><b>6.6</b> Ejercicios</a></li>
<li class="chapter" data-level="6.7" data-path="el-automovil-de-la-estadistica.html"><a href="el-automovil-de-la-estadistica.html#lecturas-recomendadas"><i class="fa fa-check"></i><b>6.7</b> Lecturas recomendadas</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html"><i class="fa fa-check"></i><b>7</b> Los beatles del Machine Learning</a><ul>
<li class="chapter" data-level="7.1" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#machine-learning"><i class="fa fa-check"></i><b>7.1</b> Machine Learning</a></li>
<li class="chapter" data-level="7.2" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#cómo-funciona-un-árbol-de-decisión"><i class="fa fa-check"></i><b>7.2</b> ¿Cómo funciona un árbol de decisión?</a></li>
<li class="chapter" data-level="7.3" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#podemos-predecir-quién-se-murió-en-el-titanic"><i class="fa fa-check"></i><b>7.3</b> ¿Podemos predecir quién se murió en el Titanic?</a><ul>
<li class="chapter" data-level="7.3.1" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#cómo-podemos-medir-qué-tan-bien-clasifica-nuestro-árbol"><i class="fa fa-check"></i><b>7.3.1</b> ¿Cómo podemos medir qué tan bien clasifica nuestro árbol?</a></li>
<li class="chapter" data-level="7.3.2" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#un-árbol-puede-reducirse-a-reglas"><i class="fa fa-check"></i><b>7.3.2</b> Un árbol puede reducirse a reglas</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#aplicación-en-el-mercado-de-trabajo-monotributistas-y-cuentapropistas-informales"><i class="fa fa-check"></i><b>7.4</b> Aplicación en el mercado de trabajo: monotributistas y cuentapropistas informales</a><ul>
<li class="chapter" data-level="7.4.1" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#overfitting-aprendiendo-demasiado-de-nuestra-muestra"><i class="fa fa-check"></i><b>7.4.1</b> Overfitting: aprendiendo demasiado de nuestra muestra</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#algunos-árboles-no-solo-clasifican-árboles-de-regresión"><i class="fa fa-check"></i><b>7.5</b> Algunos árboles no solo clasifican: árboles de regresión</a><ul>
<li class="chapter" data-level="7.5.1" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#poniendo-en-forma-los-datos"><i class="fa fa-check"></i><b>7.5.1</b> Poniendo en forma los datos</a></li>
<li class="chapter" data-level="7.5.2" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#recursive-partitioning-rpart"><i class="fa fa-check"></i><b>7.5.2</b> Recursive PARTitioning (RPART)</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#ejercicio-2"><i class="fa fa-check"></i><b>7.6</b> Ejercicio</a></li>
<li class="chapter" data-level="7.7" data-path="los-beatles-del-machine-learning.html"><a href="los-beatles-del-machine-learning.html#lecturas-recomendadas-1"><i class="fa fa-check"></i><b>7.7</b> Lecturas recomendadas</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="un-paquete-para-dominarlos-a-todos.html"><a href="un-paquete-para-dominarlos-a-todos.html"><i class="fa fa-check"></i><b>8</b> Un paquete para dominarlos a todos</a><ul>
<li class="chapter" data-level="8.1" data-path="un-paquete-para-dominarlos-a-todos.html"><a href="un-paquete-para-dominarlos-a-todos.html#classification-and-regression-training-caret"><i class="fa fa-check"></i><b>8.1</b> Classification And Regression Training (CARET)</a></li>
<li class="chapter" data-level="8.2" data-path="un-paquete-para-dominarlos-a-todos.html"><a href="un-paquete-para-dominarlos-a-todos.html#entrenando-un-árbol-de-decisión"><i class="fa fa-check"></i><b>8.2</b> Entrenando un árbol de decisión</a></li>
<li class="chapter" data-level="8.3" data-path="un-paquete-para-dominarlos-a-todos.html"><a href="un-paquete-para-dominarlos-a-todos.html#entrenando-un-árbol-de-regresión"><i class="fa fa-check"></i><b>8.3</b> Entrenando un árbol de regresión</a></li>
<li class="chapter" data-level="8.4" data-path="un-paquete-para-dominarlos-a-todos.html"><a href="un-paquete-para-dominarlos-a-todos.html#ejercicio-3"><i class="fa fa-check"></i><b>8.4</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="anexo-1-datasets.html"><a href="anexo-1-datasets.html"><i class="fa fa-check"></i><b>9</b> Anexo 1 - Datasets</a><ul>
<li class="chapter" data-level="9.1" data-path="anexo-1-datasets.html"><a href="anexo-1-datasets.html#encuesta-permanente-de-hogares-eph"><i class="fa fa-check"></i><b>9.1</b> Encuesta Permanente de Hogares (EPH)</a></li>
<li class="chapter" data-level="9.2" data-path="anexo-1-datasets.html"><a href="anexo-1-datasets.html#precios-de-los-inmuebles"><i class="fa fa-check"></i><b>9.2</b> Precios de los inmuebles</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="anexo-2-otras-funciones-de-data-wrangling.html"><a href="anexo-2-otras-funciones-de-data-wrangling.html"><i class="fa fa-check"></i><b>10</b> Anexo 2 - Otras funciones de Data Wrangling</a><ul>
<li class="chapter" data-level="10.1" data-path="anexo-2-otras-funciones-de-data-wrangling.html"><a href="anexo-2-otras-funciones-de-data-wrangling.html#convirtiendo-una-variable-númerica-a-categórica"><i class="fa fa-check"></i><b>10.1</b> Convirtiendo una variable númerica a categórica</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciencia de datos para curiosos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizaciones-de-datos-en-r" class="section level1">
<h1><span class="header-section-number">3</span> Visualizaciones de datos en R</h1>
<pre><code>Al terminar este capítulo ustedes van a poder:
- Entender la sintáxis usada por ggplot
- Hacer gráficos de dispersión de puntos y de líneas 
- Modificar los valores predeterminados de las paletas de colores, etiquetas, títulos, entre otros elementos de los gráficos
- Exportar los gráficos con calidad de publicación
- Animar y exportar animaciones de gráficos</code></pre>
<div id="la-importancia-de-la-visualización-de-los-datos" class="section level2">
<h2><span class="header-section-number">3.1</span> La importancia de la visualización de los datos</h2>
<p>La visualización de datos ha ganado espacio en diversas publicaciones y en las últimas décadas ya constituye una disciplina en sí misma. Su relevancia podría justificarse de muchas maneras, pero hay un punto que es especialmente relevante para el análisis de datos: los parámetros y coeficientes con los que solemos trabajar no siempre son tan simples de interpretar como pensamos. Por ejemplo, algunos autores recomiendan fuertemente graficar las predicciones del modelo ante distintos valores, antes que los coeficientes del modelo (McElreath, 2016).</p>
<p>Este punto dista de ser uno moderno. En 1973 el estadístico Francis Anscombe aportó la siguiente evidencia sobre cómo muchas de las variables que solemos tomar como de resumen, o incluso de relación entre ellas, puede engañarnos si no visualizamos correctamente los datos:</p>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p>Si prestan atención, van a poder ver que la nube de puntos de cada uno de los datasets es bien distinta. El primero de arriba a la izquierda parece un scatter plot alrededor de una media, que podría modelarse linealmente. El segundo, el de arriba a la derecha, parecería tener una relación más cuadrática. El tercero, el de abajo a la izquierda, muestra una relación linea aparentemente con baja volatilidad, pero un punto bien alejado de esa recta, mientras que el último muestra casi ninguna relación entre x e y, con la excepción de un punto muy alejado del resto.</p>
<p>¿Pero que sucede cuando trazamos una línea que minimiza la distancia cuadrática entre los puntos? La recta (azul) es ¡la misma! ¿Y qué pasa con los promedios de las variables y la correlación entre ellas? También son iguales:</p>
<pre><code>## # A tibble: 4 x 4
##   dataset   promedioX promedioY corXY
##   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
## 1 Dataset 1         9      7.50 0.816
## 2 Dataset 2         9      7.50 0.816
## 3 Dataset 3         9      7.5  0.816
## 4 Dataset 4         9      7.50 0.817</code></pre>
<p>De esta manera queda en claro que, en algunas ocasiones, trabajar con resumenes de nuestros datos puede llevarnos a extraer conclusiones erróneas sobre cómo deberíamos analizarlos.</p>
<p>Durante los años se fue mejorando este punto que hizo Anscombe y… ahora sabemos que una nube de puntos que se parece a un dinosauro: si nos guiamos solo por las clásicas medidas de resumen, son indistinguibles</p>
<p><img src="Figuras/Capitulo%203/DinoSequentialSmaller.gif" /><!-- --></p>
</div>
<div id="ggplot-grammar-of-graphics" class="section level2">
<h2><span class="header-section-number">3.2</span> GGPLOT: Grammar of Graphics</h2>
<p>Cuando se trata de hacer visualizaciones en R, <strong>ggplot</strong> es, por lejos, nuestro principal aliado y la librería más ampliamente difundida. Este paquete viene incluido dentro de <strong>tidyverse</strong>, por lo que cargando dicho paquete ya van a contar con todas sus funciones.</p>
<p>Con ggplot podemos crear decenas de distintos tipos de gráficos mediante una sintáxis unificada, lo que hace que se ganen importante economías de escala, una vez superada la curva de aprendizaje.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
</div>
<div id="cuál-es-la-relación-entre-el-ingreso-de-un-país-y-la-expectativa-de-vida-al-nacer-scatterplot" class="section level2">
<h2><span class="header-section-number">3.3</span> ¿Cuál es la relación entre el ingreso de un país y la expectativa de vida al nacer? Scatterplot</h2>
<p>Una nube de puntos o scatter plot es un tipo de gráfico que, por lo general, muestra la relación entre dos variables. Digo por lo general, porque en rigor es posible agregar otra información en estos gráficos mediante colores o tamaños de los puntos. Sigamos con el ejemplo del capitulo dos: los datos de <strong>gapminder</strong>. Vamos a filtrar los datos para el año 2007, el último en este dataset.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1">gapminder_df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;https://raw.githubusercontent.com/martintinch0/CienciaDeDatosParaCuriosos/master/data/gapminder.csv&quot;</span>,</a>
<a class="sourceLine" id="cb125-2" data-line-number="2">                           <span class="dt">sep=</span><span class="st">&#39;;&#39;</span>,</a>
<a class="sourceLine" id="cb125-3" data-line-number="3">                           <span class="dt">header =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb125-4" data-line-number="4">                           <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb125-5" data-line-number="5">gapminderLastCut &lt;-<span class="st"> </span>gapminder_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year<span class="op">==</span><span class="dv">2007</span>)</a></code></pre></div>
<p>Ya podemos comenzar con nuestro primer ejemplo. <strong>ggplot</strong> comienza siempre de la misma manera: usando la función homónima y comentando que datos queremos graficar. Luego, le decimos qué tipo de gráfico queremos hacer, lo que en GG se hace con <strong>geom_</strong>, seguido por un sufijo que hace referencia específica al tipo de gráfico.</p>
<p>Además, GGPLOT no hace magia: en este caso, necesita saber qué variable poner en el eje x y cuál otra poner en el eje y. En ggplot, estas últimas indicaciones van dentro de una función que se llama <strong>aes()</strong>, que es la abreviación de <strong>aesthetics</strong>.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb126-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb126-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<p>Nuestro gráfico scatter, que en ggplot se hace con <strong>geom_point()</strong>, muestra en el eje horizontal el PIB per cápita de los países y en el eje vertical la expectativa de vida al nacer. La grilla de fondo de color gris y los títulos de los ejes son defaults de ggplot, así como la - no tan recomendada - decisión de cortar al eje vertical en un valor levemente superior a 40 años.</p>
<p>Una vez que tenemos los datos que queremos en nuestro gráfico, podemos empezar a cambiar estos detalles que pueden no gustarnos. Para empezar, los títulos de los ejes tienen por definición el nombre de las variables, vamos a ponerles nombres más acordes a lo que estamos mostrando. Como irán aprendiendo, estos cambios van en distintas partes de nuestro código de ggplot mediante nuevas funciones agregadas por medio de <strong>+</strong>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb127-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb127-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb127-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb127-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<p>En este caso usamos la función <strong>labs()</strong>, con sus respectivos parámetros x e y, a los que les pasamos directamente el nombre que queremos que tenga. La función labs permite más cosas que esto, como agregar título, subtítulos e incluso información sobre la fuente de nuestro gráfico:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb128-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb128-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb128-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb128-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb128-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;A más ingresos mayor tiempo de vida?&quot;</span>,</a>
<a class="sourceLine" id="cb128-7" data-line-number="7">       <span class="dt">subtitle=</span><span class="st">&quot;Expectativa de vida al nacer según nivel de ingreso&quot;</span>,</a>
<a class="sourceLine" id="cb128-8" data-line-number="8">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<div id="agregando-colores-según-otras-variables" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Agregando colores según otras variables</h3>
<p>En nuestro data.frame de <strong>gapminder</strong> contamos con otra variable que sería de interés mostrar: el continente del país que hablamos. Esta variable es de tipo categórica y es muy común agregar esta clase de variables en nuestros gráficos de dispersión o <strong>scatter plots</strong></p>
<p>Agregar esta clase de información es realmente fácil. Dentro de la función <strong>aes()</strong>, además de determinar cuáles son los valores del eje vertical (y) y del eje horizontal (x), podemos indicar cuál es la variable según la cual queremos que ponga los colores: mediante el argumento <em>color</em></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb129-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y =</span> lifeExp,<span class="dt">color=</span>continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb129-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb129-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb129-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb129-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;A más ingresos mayor tiempo de vida?&quot;</span>,</a>
<a class="sourceLine" id="cb129-7" data-line-number="7">       <span class="dt">subtitle=</span><span class="st">&quot;Expectativa de vida al nacer según nivel de ingreso&quot;</span>,</a>
<a class="sourceLine" id="cb129-8" data-line-number="8">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-89-1.png" width="672" /></p>
<p>Podemos observar cómo los colores no se distribuyen aleatoriamente entre niveles de ingreso, sino que se ubican más o menos en los mismos rangos, con algunas excepciones. Más adelante vamos a ver un gráfico que nos va a ser útil para detectar estás diferencias.</p>
</div>
<div id="creando-paneles-con-facet_wrap" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Creando paneles con facet_wrap()</h3>
<p>Los paneles son realmente fáciles de armar en ggplot. Lo unico que debemos decirle es que queremos hacerlos y qué variable usaremos para cortar a nuestros datos y mostrarlos de a partes. Imaginemos que queremos mostrar el mismo gráfico de relación entre PIB per cápita y expectativas de vida al nacer (en años) que hicimos anteriormente, pero para cada uno de los continentes por separados: muy simple.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb130-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb130-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb130-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb130-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb130-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;A más ingresos mayor tiempo de vida?&quot;</span>,</a>
<a class="sourceLine" id="cb130-7" data-line-number="7">       <span class="dt">subtitle=</span><span class="st">&quot;Expectativa de vida al nacer según nivel de ingreso&quot;</span>,</a>
<a class="sourceLine" id="cb130-8" data-line-number="8">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb130-9" data-line-number="9"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>continent)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<p>Fácil, no? Lo único que cambiamos fue que no queremos colorear por continente, sino que queremos que se creen tantos gráficos como continentes hay en nuestros datos.</p>
</div>
</div>
<div id="cuál-fue-la-evolución-de-la-expectativa-de-vida-al-nacer-gráfico-de-líneas" class="section level2">
<h2><span class="header-section-number">3.4</span> ¿Cuál fue la evolución de la expectativa de vida al nacer? Gráfico de líneas</h2>
<p>Otro de los gráficos más simples consiste en analizar la evolución de una determinada variable en el tiempo mediante una línea de tiempo. En <strong>ggplot</strong> estos gráficos pueden crearse usando <strong>geom_line</strong>.</p>
<p>Digamos que queremos observar la evolución de la expectativa de vida al nacer promedio por continente. Usando las herramientas de <strong>tidyverse</strong> podemos generar este promedio de la siguiente manera:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1">promedioContinente &lt;-<span class="st"> </span>gapminder_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb131-2" data-line-number="2"><span class="st">                      </span><span class="kw">group_by</span>(continent,year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb131-3" data-line-number="3"><span class="st">                      </span><span class="kw">summarise</span>(<span class="dt">promedio=</span><span class="kw">mean</span>(lifeExp))</a></code></pre></div>
<p>Luego, ya estamos en condiciones de hacer el gráfico:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> promedioContinente,</a>
<a class="sourceLine" id="cb132-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>year, <span class="dt">y =</span> promedio,<span class="dt">color=</span>continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb132-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb132-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb132-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb132-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;Expectativa de vida al nacer según continente&quot;</span>,</a>
<a class="sourceLine" id="cb132-7" data-line-number="7">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<p>Ahora que hicimos nuestro gráfico de líneas, presten atención a dos puntos. Por un lado, cuando usamos el parámetro <em>color</em> en combinación con <strong>geom_line()</strong> ggplot entiende que esa variable debe ser la que corta a los datos, y los valores de cada una de ellas debe ser graficada por separada.</p>
<p>Por otro lado, y en relación al anterior punto, ggplot genera de manera automática una leyenda que nos permite unir el color de la variable por la que <em>abrimos</em> a los datos y su categoría. Veamos cómo cambiar la apariencia de la leyenda, lo que nos llevará a conocer otras funciones importantes de ggplot.</p>
<div class="rmdimportant">
<p>Si al intentar hacer este gráfico se decepcionaron al ver que no ven ninguna línea, no se preocupen. Miren la consola y lean si no está el siguiente mensaje:<br>geom_path: Each group consists of only one observation. Do you need to adjust the group aesthetic?<br></p>
<p>En caso de ser así, lo que sucede es que ggplot agrupa de manera predeterminada a aquellas variables que no son numéricas. Como dos de las tres variables que están usando son de tipo charactere, entonces ggplot las agrupa y hay un problema al hacer líneas: necesitamos al menos dos puntos para hacer una línea.<br></p>
<p>Tenemos dos soluciones. La primera consiste en convertir a alguna de las variables que están como caracteres (por ejemplo, es posible que tengan la variable year como character). La segunda solución es usar el argumento <strong>group</strong> dentro de la función <strong>aes()</strong>, este argumento explicita por cual variable queremos agrupar, por lo que desactivamos la acción que tiene ggplot de manera determinada. Hay un ejercicio al final de este capítulo que repasa este punto.</p>
</div>
<div id="cambiando-la-apariencia-de-las-leyendas" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Cambiando la apariencia de las leyendas</h3>
<p>Para modificar la presentación de la leyenda podemos usar distintas funciones. Imaginen que deseamos cambiar el título de la leyenda. Esto se hace simplemente con una leve modificación dentro de la función <strong>labs()</strong>, agregando un parámetro que haga referencia al aesthetic que mapearon. En este caso, corresponde <strong>color</strong>:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> promedioContinente,</a>
<a class="sourceLine" id="cb133-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>year, <span class="dt">y =</span> promedio,<span class="dt">color=</span>continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb133-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb133-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb133-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb133-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;Expectativa de vida al nacer según continente&quot;</span>,</a>
<a class="sourceLine" id="cb133-7" data-line-number="7">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>,</a>
<a class="sourceLine" id="cb133-8" data-line-number="8">       <span class="dt">color =</span><span class="st">&#39;Continente&#39;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<p>Muchas veces también queremos cambiar el lugar en el que está la leyenda, o quizás su dirección (puede estar de manera vertical, como en el ejemplo, u horizontal). Pero antes de mostrar cómo hacer esto, vamos a ver que podemos guardar gráficos de ggplot como objetos:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">graficoLinea &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> promedioContinente,</a>
<a class="sourceLine" id="cb134-2" data-line-number="2">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>year, <span class="dt">y =</span> promedio,<span class="dt">color=</span>continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb134-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb134-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb134-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb134-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;Expectativa de vida al nacer según continente&quot;</span>,</a>
<a class="sourceLine" id="cb134-7" data-line-number="7">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>,</a>
<a class="sourceLine" id="cb134-8" data-line-number="8">       <span class="dt">color =</span><span class="st">&#39;Continente&#39;</span>)</a>
<a class="sourceLine" id="cb134-9" data-line-number="9"><span class="co"># Si ejecutan la siguiente línea va a devolver el gráfico </span></a>
<a class="sourceLine" id="cb134-10" data-line-number="10"><span class="co"># graficoLinea</span></a></code></pre></div>
<p>Esta funcionalidad nos va a servir tanto como para ir agregando “capas” a nuestro gráfico como para exportar nuestros gráficos, como veremos posteriormente. Ahora, modifiquemos de lugar a la leyenda usando la función <strong>theme()</strong></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1">graficoLinea <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1"><span class="co"># graficoLinea + theme(legend.position = &quot;top&quot;)</span></a></code></pre></div>
<p>Con la función <strong>theme()</strong> podemos cambiar todos aquellos aspectos que no tengan que ver con el contenido, sino con las formas, tamaños y disposiciones de nuestros objetos, veremos más opciones de esto cuando queramos guardar nuestros gráficos. Muchas veces no queremos agregar las leyendas, que por default ggplot las muestra ¿Cómo evitamos que se muestren? con <strong>legend.position=“none”</strong>.</p>
<p>Otra clásica situación es querer cambiar el orden de la leyenda. Por <em>default</em> ggplot usa el orden que tenga la variable factor (categórica) por la que estamos abriendo a los datos. Si bien podemos cambiar este orden en las variables originales, suele ser una mejor idea modificarlas específicamente para el gráfico.</p>
<p>Esto lo podemos hacer con <strong>scale_color_manual</strong>. Esta función en rigor define información relevante para la paleta y su relación con los colores. Los <em>breaks</em> los valores que la leyenda puede tomar, mientras que en <em>values</em> directamente debemos indicar los colores para cada uno de estos valores en el sistema hexadecimal. Vean el siguiente ejemplo:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">graficoLinea <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb137-2" data-line-number="2"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">breaks=</span><span class="kw">c</span>(<span class="st">&quot;Europe&quot;</span>,<span class="st">&quot;Asia&quot;</span>,<span class="st">&quot;Oceania&quot;</span>,<span class="st">&quot;Africa&quot;</span>,<span class="st">&quot;Americas&quot;</span>),</a>
<a class="sourceLine" id="cb137-3" data-line-number="3">                       <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#E41A1C&quot;</span>,<span class="st">&quot;#377EB8&quot;</span>,<span class="st">&quot;#4DAF4A&quot;</span> ,<span class="st">&quot;#984EA3&quot;</span>,<span class="st">&quot;#FF7F00&quot;</span>))</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-96-1.png" width="672" /></p>
<p>Vean cómo ahora el orden de las leyendas se desplegan según la secuencia que nosotros queríamos y los colores han cambiado de acauerdo a nuestro vector <em>values</em> ¿De dónde elegí esos colores? De las muy buenas paletas de colores que ofrece el paquete <strong>RColorBrewer</strong> y que pueden <a href="http://colorbrewer2.org/">explorar acá</a> o mediante el siguiente código, una vez que lo hayan instalado:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="kw">library</span>(RColorBrewer)</a>
<a class="sourceLine" id="cb138-2" data-line-number="2"><span class="kw">display.brewer.all</span>()</a></code></pre></div>
<p><img src="Figuras/Capitulo%203/RColorBrewerPal.png" width="600px" style="display: block; margin: auto;" /></p>
<p>Como pueden ver el paquete cuenta con un conjunto de paletas que son útiles en diversas situaciones. En este caso, los cinco colores que usé en el gráfico anterior pertenecen a la paleta <em>set1</em>. Generar estos vectores es muy simple, solo tenemos que usar la función <strong>brewer.pal()</strong> con la cantidad de colores a generar y la paleta desde donde obtenerlos</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"><span class="kw">brewer.pal</span>(<span class="dt">n =</span> <span class="dv">5</span>,<span class="dt">name =</span> <span class="st">&quot;Set1&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;#E41A1C&quot; &quot;#377EB8&quot; &quot;#4DAF4A&quot; &quot;#984EA3&quot; &quot;#FF7F00&quot;</code></pre>
</div>
</div>
<div id="reproduciendo-el-gráfico-de-hans-rosling" class="section level2">
<h2><span class="header-section-number">3.5</span> Reproduciendo el gráfico de Hans Rosling</h2>
<p>Ahora que ya introdujimos algunos de los gráficos más usados estamos en condiciones de reproducir uno de los gráficos de Rosling para el año 2007. En el camino, vamos a introducir algunos puntos básicos y relevantes de ggplot.</p>
<p>Recuerden que en <strong>gapminderLastCut</strong> tenemos los datos pertenecientes al último año de nuestro dataset, 2007. Trabajaremos con estos datos, agregando capas de a una a la vez y aclarando, en los comentarios, para que sirven:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1"><span class="co"># Definición de los datos a graficar y de qué mostrar en</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2"><span class="co"># cada aesthetic</span></a>
<a class="sourceLine" id="cb141-3" data-line-number="3">gapminder2007 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminderLastCut,</a>
<a class="sourceLine" id="cb141-4" data-line-number="4">       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap,</a>
<a class="sourceLine" id="cb141-5" data-line-number="5">                     <span class="dt">y =</span> lifeExp,</a>
<a class="sourceLine" id="cb141-6" data-line-number="6">                     <span class="dt">color=</span>continent,</a>
<a class="sourceLine" id="cb141-7" data-line-number="7">                     <span class="dt">size=</span>pop)) <span class="op">+</span></a>
<a class="sourceLine" id="cb141-8" data-line-number="8"><span class="co"># Tipo de gráfico a hacer</span></a>
<a class="sourceLine" id="cb141-9" data-line-number="9"><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb141-10" data-line-number="10"><span class="co"># ¿Qué leyendas mostrar? No mostrar aquella relacionada con el tamaño. Prueben qué pasa si no agregan esto al gráfico</span></a>
<a class="sourceLine" id="cb141-11" data-line-number="11"><span class="kw">guides</span>(<span class="dt">size=</span><span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb141-12" data-line-number="12"><span class="co"># Elegimos un tema preestablecido, en este caso *minimal*</span></a>
<a class="sourceLine" id="cb141-13" data-line-number="13"><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb141-14" data-line-number="14"><span class="co"># El eje x, que tiene una variable continua, queremos que muestre</span></a>
<a class="sourceLine" id="cb141-15" data-line-number="15"><span class="co"># los datos en logaritmos para evitar que los puntos se &quot;junten&quot;</span></a>
<a class="sourceLine" id="cb141-16" data-line-number="16"><span class="co"># muy cerca del inicio y no nos permitan ver los cambios</span></a>
<a class="sourceLine" id="cb141-17" data-line-number="17"><span class="kw">scale_x_continuous</span>(<span class="dt">trans =</span> <span class="st">&#39;log10&#39;</span>)</a></code></pre></div>
<p>Hemos agregado un par de funciones más que vale la pena aclarar. En primer lugar, el uso de la función <strong>guides()</strong>, que entre otras cosas es útil para elegir qué leyendas queremos que aparezcan en nuestro gráfico y qué no. Por definición, cada <strong>aesthetic</strong> que agregamos (color, tamaño, símbolo) tiene un correlato en la leyenda. Pero en nuestro caso no queremos que muestre los tamaños con un determinado tamaño de población: basta con saber que mientras más grande es el tamaño de la bola, más alta es la población del país. Para eso agregamos <strong>guides(size=FALSE)</strong></p>
<p>En segundo lugar, incluimos <strong>theme_minimal()</strong>. Esta función, así como todas las que comienzan con <strong>theme_</strong> son un conjunto de código que iría dentro de <strong>theme()</strong> y que nos permiten generar estilos preestablecidos de una manera muy simple. Minimal, por ejemplo, elimina el fondo gris con rayas blancas que es lo predeterminado en ggplot. Escriban “theme” y luego presionen tab en RStudio y verán más opciones como <strong>theme_bw</strong>, <strong>theme_dark</strong>. Pruebenlos.</p>
<p>Finalmente, con <strong>scale_x_continuous()</strong> podemos transformar la presentación de los datos sin crear inncesariamente variables en nuestro data frame. En este caso queremos transformar los valores a logaritmo para evitar que las importantes diferencias en PIB per cápita entre los países no nos permitan ver variaciones relativas importantes entre los países de ingresos bajos y medios-bajos.</p>
<p>Ahora vamos a usar prácticamente todo lo aprendido en este capítulo para armar un gráfico que podremos exportar. A nuestro último gráfico le agregamos algunos detalles como la mejora de la leyenda, otros colores y distintos títulos.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">gapminder2007 &lt;-<span class="st"> </span>gapminder2007 <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">breaks=</span><span class="kw">c</span>(<span class="st">&quot;Europe&quot;</span>,<span class="st">&quot;Asia&quot;</span>,<span class="st">&quot;Oceania&quot;</span>,<span class="st">&quot;Africa&quot;</span>,<span class="st">&quot;Americas&quot;</span>),</a>
<a class="sourceLine" id="cb142-3" data-line-number="3">                     <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#E41A1C&quot;</span>,<span class="st">&quot;#377EB8&quot;</span>,<span class="st">&quot;#4DAF4A&quot;</span> ,<span class="st">&quot;#984EA3&quot;</span>,<span class="st">&quot;#FF7F00&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb142-4" data-line-number="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb142-5" data-line-number="5">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb142-6" data-line-number="6">       <span class="dt">title=</span><span class="st">&quot;A más ingresos mayor tiempo de vida?&quot;</span>,</a>
<a class="sourceLine" id="cb142-7" data-line-number="7">       <span class="dt">subtitle=</span><span class="st">&quot;Expectativa de vida al nacer según nivel de ingreso&quot;</span>,</a>
<a class="sourceLine" id="cb142-8" data-line-number="8">       <span class="dt">color=</span><span class="st">&quot;Continente&quot;</span>,</a>
<a class="sourceLine" id="cb142-9" data-line-number="9">       <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>)</a></code></pre></div>
<p>Si quieren ejecuten el objeto gapminder2007 para ver cómo quedó. Ahora iremos con la última parte de este capítulo: cómo exportar los gráficos que hacemos.</p>
<div id="exportando-gráficos-de-ggplot" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Exportando gráficos de ggplot</h3>
<p>Exportar los gráficos es una tarea clave, y es realmente fácil con ggplot. Solo debemos usar la función <strong>ggsave</strong>:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;hansRosling2007.png&quot;</span>,</a>
<a class="sourceLine" id="cb143-2" data-line-number="2">       <span class="dt">plot =</span> gapminder2007,</a>
<a class="sourceLine" id="cb143-3" data-line-number="3">       <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p>ggsave nos pide un nombre de archivo, y un gráfico a exportar. Luego, nosotros podemos incluir información sobre la calidad del gráfico o ciertos parámetros adicionales. DPI es la cantidad de Dot Per Inch (puntos por pulgadas) que queremos que tenga. Mientras mayor sea este número, mayor será la “calidad” del gráfico (y tendrá mayores píxeles y peserá más. Ejecuten el código, deberían tener algo similar a esto.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-104"></span>
<img src="Figuras/Capitulo%203/hansRosling2007.png" alt="Primer gráfico exportado. Gapminder para el año 2007" width="600px" />
<p class="caption">
Figure 3.1: Primer gráfico exportado. Gapminder para el año 2007
</p>
</div>
</div>
</div>
<div id="ejercicios-2" class="section level2">
<h2><span class="header-section-number">3.6</span> Ejercicios</h2>
<p>Descarguen el dataset de precios de los inmuebles que pueden obtener desde el siguiente link, que lo pasaremos a formato largo y eliminaremos el sufijo USDm2_ para los precios de cada año.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1">precioAvisos &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> <span class="st">&#39;https://raw.githubusercontent.com/martintinch0/CienciaDeDatosParaCuriosos/master/data/precioBarrios.csv&#39;</span>,</a>
<a class="sourceLine" id="cb144-2" data-line-number="2">         <span class="dt">sep=</span><span class="st">&#39;;&#39;</span>,</a>
<a class="sourceLine" id="cb144-3" data-line-number="3">         <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb144-4" data-line-number="4"></a>
<a class="sourceLine" id="cb144-5" data-line-number="5">precioAvisos&lt;-precioAvisos <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">-</span>BARRIOS,</a>
<a class="sourceLine" id="cb144-6" data-line-number="6">                                            <span class="dt">names_to=</span> <span class="st">&quot;Year&quot;</span>,</a>
<a class="sourceLine" id="cb144-7" data-line-number="7">                                            <span class="dt">values_to=</span><span class="st">&#39;Valor&#39;</span></a>
<a class="sourceLine" id="cb144-8" data-line-number="8">                                            ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb144-9" data-line-number="9"><span class="st">              </span><span class="kw">mutate</span>(<span class="dt">Year=</span><span class="kw">gsub</span>(<span class="dt">pattern =</span> <span class="st">&quot;USDm2_*&quot;</span>,</a>
<a class="sourceLine" id="cb144-10" data-line-number="10">                              <span class="dt">replacement =</span> <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb144-11" data-line-number="11">                              <span class="dt">x =</span> Year))</a></code></pre></div>
<p>Ahora hagan los siguientes gráficos. En cada uno de ellos prueben con distintos colores y themes. Prueben instalar el paquete <strong>ggthemes</strong> y usar algunos de sus themes, como por ejemplo <strong>theme_fiverthirtyeight()</strong>.</p>
<ol style="list-style-type: decimal">
<li>Un gráfico de linea de tiempo que muestre la evolución de los precios entre 2013 y 2017 para los barrios de Agronomia, Almagro, Caballito y Coghlan ¿Pueden hacer este gráfico sin usar el argumento <strong>group</strong>? Revisen las variables de <strong>preciosAvisos</strong> y piensen la respuesta y las posibles soluciones.</li>
<li>Un scatter plot para el precio (eje vertical) por año (eje horizontal)</li>
<li>¿Qué pasa si en el punto 2 usan <strong>geom_boxplot</strong> en lugar de <strong>geom_point</strong>? Recuerden que para hacer un boxplot es preciso tener más de un punto por grupo que se muestra, ya que resume la distribución de un conjunto de puntos.</li>
</ol>
</div>
<div id="extensión-animando-el-gráfico-de-hans-rosling" class="section level2">
<h2><span class="header-section-number">3.7</span> Extensión: animando el gráfico de Hans Rosling</h2>
<p>El gráfico original de Hans Rosling muestra la evolución en el tiempo de las dos variables a lo largo del tiempo. Con el paquete <strong>gganimate</strong> solo debemos agregar dos líneas de código - y modificar levemente otras dos - para tener el gráfico que buscamos.</p>
<p>En primer lugar, si queremos mostrar la evolución en el tiempo de estas variables tenemos que usar el data frame completo, no solo la última foto.</p>
<p>En segundo lugar, debemos indicar cuáles son los quiebres en nuestro eje horizontal, porque en caso de no hacerlo R va a expresar algunos cortes con notación científica. Esto lo hacemos dentro de scale_x_continuous, donde podemos incluir, dentro de <em>breaks</em>, los valores que queremos que muestre.</p>
<p>En tercer lugar, tenemos que indicarle a ggplot que se trata de una animación. Esto lo hacemos con <strong>transition_time(year)</strong>, en donde le indicamos cual es la variable por la cual tiene que hacer la transición de las fotos. Además le decimos que, cómo hay baches entre los años, los complete con una interpolación lineal con el siguiente código <strong>ease_aes(‘linear’)</strong></p>
<p>Finalmente modificamos el título del gráfico con <strong>Año: {frame_time}</strong> para que nos vaya indicando el año que estamos viendo en la animación.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb145-2" data-line-number="2">gapminderAnim &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> gapminder_df,</a>
<a class="sourceLine" id="cb145-3" data-line-number="3">                        <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap,</a>
<a class="sourceLine" id="cb145-4" data-line-number="4">                                      <span class="dt">y =</span> lifeExp,</a>
<a class="sourceLine" id="cb145-5" data-line-number="5">                                      <span class="dt">color=</span>continent,</a>
<a class="sourceLine" id="cb145-6" data-line-number="6">                                      <span class="dt">size=</span>pop)) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb145-8" data-line-number="8"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">size=</span><span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb145-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">trans =</span> <span class="st">&#39;log10&#39;</span>,<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1000</span>,<span class="dv">10000</span>,<span class="dv">70000</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-11" data-line-number="11"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">breaks=</span><span class="kw">c</span>(<span class="st">&quot;Europe&quot;</span>,<span class="st">&quot;Asia&quot;</span>,<span class="st">&quot;Oceania&quot;</span>,<span class="st">&quot;Africa&quot;</span>,<span class="st">&quot;Americas&quot;</span>),</a>
<a class="sourceLine" id="cb145-12" data-line-number="12">                       <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#E41A1C&quot;</span>,<span class="st">&quot;#377EB8&quot;</span>,<span class="st">&quot;#4DAF4A&quot;</span> ,<span class="st">&quot;#984EA3&quot;</span>,<span class="st">&quot;#FF7F00&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb145-13" data-line-number="13"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;PIB per cápita&quot;</span>,</a>
<a class="sourceLine" id="cb145-14" data-line-number="14">         <span class="dt">y =</span> <span class="st">&quot;Expectativa de vida al nacer (en años)&quot;</span>,</a>
<a class="sourceLine" id="cb145-15" data-line-number="15">         <span class="dt">title=</span><span class="st">&quot;Año: {frame_time}&quot;</span>,</a>
<a class="sourceLine" id="cb145-16" data-line-number="16">         <span class="dt">subtitle=</span><span class="st">&quot;Expectativa de vida al nacer según nivel de ingreso&quot;</span>,</a>
<a class="sourceLine" id="cb145-17" data-line-number="17">         <span class="dt">color=</span><span class="st">&quot;Continente&quot;</span>,</a>
<a class="sourceLine" id="cb145-18" data-line-number="18">         <span class="dt">caption=</span><span class="st">&quot;Fuente: Gapminder&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-19" data-line-number="19"><span class="st">  </span><span class="kw">transition_time</span>(year) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb145-20" data-line-number="20"><span class="st">  </span><span class="kw">ease_aes</span>(<span class="st">&#39;linear&#39;</span>)</a></code></pre></div>
<p>Si lo ejecutan, deberían tener algo similar a lo que se ve abajo:</p>
<p><img src="Figuras/Capitulo%203/animacionGapminder.gif" /><!-- --></p>
<p>Aunque para generar esta animación use <strong>anim_save()</strong>, el equivalente a <strong>ggsave()</strong>, pero para animaciones:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="kw">anim_save</span>(<span class="dt">filename=</span><span class="st">&quot;animacion.gif&quot;</span>,</a>
<a class="sourceLine" id="cb146-2" data-line-number="2">          <span class="dt">animation =</span> gapminderAnim,</a>
<a class="sourceLine" id="cb146-3" data-line-number="3">          <span class="dt">width=</span><span class="dv">2100</span>,</a>
<a class="sourceLine" id="cb146-4" data-line-number="4">          <span class="dt">height=</span><span class="dv">1500</span>,</a>
<a class="sourceLine" id="cb146-5" data-line-number="5">          <span class="dt">res=</span><span class="dv">300</span>)</a></code></pre></div>
</div>
<div id="en-una-baldosa-las-preguntas-más-frecuentes" class="section level2">
<h2><span class="header-section-number">3.8</span> En una baldosa: las preguntas más frecuentes</h2>
<p>En esta sección resumo las preguntas más frecuentes que recibo en mis cursos con respecto al uso de ggplot y algunas extensiones. Esta es un arma de doble filo: les acerco algunas soluciones creando la ilusión de que un manual o un capítulo de un libro pueden resolver todas sus dudas. No es así: van a tener que aprender a buscar soluciones de manera independiente en múltiples lugares de internet, combinando búsquedas en Google con diferentes manuales (este y otros que se incluyen al final de este capítulo). Con todo, acá van algunas de las preguntas que me han hecho y que no incorporé al texto para que no se vaya de tamaño.</p>
<p>Para todos estos ejemplos deben tener cargados los datos sobre la <a href="https://ourworldindata.org/coronavirus-source-data">evolución del COVID19</a> que la gente de <a href="https://ourworldindata.org/">Our World In Data</a> y hacer el siguiente procesamiento:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">require</span>(tidyverse)</a>
<a class="sourceLine" id="cb147-2" data-line-number="2">infoCovid &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://covid.ourworldindata.org/data/ecdc/full_data.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   date = col_date(format = &quot;&quot;),
##   location = col_character(),
##   new_cases = col_double(),
##   new_deaths = col_double(),
##   total_cases = col_double(),
##   total_deaths = col_double()
## )</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">popData &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://covid.ourworldindata.org/data/ecdc/locations.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   countriesAndTerritories = col_character(),
##   location = col_character(),
##   continent = col_character(),
##   population_year = col_double(),
##   population = col_double()
## )</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1">infoCovid &lt;-<span class="st"> </span><span class="kw">left_join</span>(infoCovid,popData <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(location,population),<span class="dt">by=</span><span class="st">&quot;location&quot;</span>)</a></code></pre></div>
<div id="cómo-puedo-hacer-un-gráfico-de-barras" class="section level3">
<h3><span class="header-section-number">3.8.1</span> 1. ¿Cómo puedo hacer un gráfico de barras?</h3>
<p>Principales puntos: <strong>geom_col</strong> es el geom de ggplot que nos permite hacer barras. <strong>theme(axis.text.x=element_text(angle=90))</strong> nos permite agarrar el texto del eje x y rotarlo 90 grados para que se vea mejor el nombre de nuestras unidades (en este caso, países).
<strong>x=factor(location,levels = level_order)</strong>, dentro de <strong>aes()</strong> nos permite ordenar de la manera que nosotros queramos a los datos, en base a un vector que creamos anteriormente (Ver la pregunta 2 !)</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">require</span>(tidyverse)</a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="co"># Nos quedamos con los datos correspondiente a la última fecha</span></a>
<a class="sourceLine" id="cb152-3" data-line-number="3">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb152-4" data-line-number="4"><span class="st">         </span><span class="kw">filter</span>(date<span class="op">==</span><span class="kw">max</span>(date), <span class="op">!</span>location <span class="op">==</span><span class="st"> &quot;World&quot;</span>,total_deaths<span class="op">&gt;</span><span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb152-5" data-line-number="5"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">deathsPerMillion=</span>(total_deaths<span class="op">/</span>population)<span class="op">*</span><span class="dv">1000000</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb152-6" data-line-number="6"><span class="st">         </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(deathsPerMillion))</a>
<a class="sourceLine" id="cb152-7" data-line-number="7">         </a>
<a class="sourceLine" id="cb152-8" data-line-number="8"><span class="co"># Creamos un vector que nos va a permitir odrenar (descendente o ascendente) a los paises</span></a>
<a class="sourceLine" id="cb152-9" data-line-number="9">level_order &lt;-<span class="st"> </span>dfBar <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb152-10" data-line-number="10"><span class="st">               </span><span class="kw">arrange</span>(<span class="kw">desc</span>(deathsPerMillion)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb152-11" data-line-number="11"><span class="st">               </span><span class="kw">pull</span>(location)</a>
<a class="sourceLine" id="cb152-12" data-line-number="12"><span class="co"># Codigo para el grafico de barras                     </span></a>
<a class="sourceLine" id="cb152-13" data-line-number="13"><span class="kw">ggplot</span>(dfBar) <span class="op">+</span></a>
<a class="sourceLine" id="cb152-14" data-line-number="14"><span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">factor</span>(location,<span class="dt">levels =</span> level_order),<span class="dt">y=</span>deathsPerMillion)) <span class="op">+</span></a>
<a class="sourceLine" id="cb152-15" data-line-number="15"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">90</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb152-16" data-line-number="16"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Muertos por COVID por millones de habitantes&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Elaboración propia con base en datos de Our World In Data&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
</div>
<div id="cómo-ordeno-mis-datos-en-ggplot" class="section level3">
<h3><span class="header-section-number">3.8.2</span> 2. ¿Cómo ordeno mis datos en ggplot?</h3>
<p>ggplot por default ordena nuestos datos de texto - las categorias - por orden alfabético. Rara vez este sea el orden que queremos para nuestro gráfico (si no me creen, pongan directamente <strong>location</strong> en el ejemplo anterior, en lugar de <strong>factor(location,levels = level_order)</strong> ) y vean cómo ahora el gráfico es mucho más dificil de entender. Existen múltiples estrategias para lograr que ggplot lo ordene como queremos, pero una alternativa muy interesante es crear antes del gráfico un vector con el orden que queremos que tenga.</p>
<p>Veamos el código del gráfico del ejemplo anterior, presten atención a estas dos partes</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="co"># Creamos un vector que nos va a permitir odrenar (descendente o ascendente) a los paises</span></a>
<a class="sourceLine" id="cb153-2" data-line-number="2">level_order &lt;-<span class="st"> </span>dfBar <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb153-3" data-line-number="3"><span class="st">               </span><span class="kw">arrange</span>(<span class="kw">desc</span>(deathsPerMillion)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb153-4" data-line-number="4"><span class="st">               </span><span class="kw">pull</span>(location)</a>
<a class="sourceLine" id="cb153-5" data-line-number="5"><span class="co"># Codigo para el grafico de barras                     </span></a>
<a class="sourceLine" id="cb153-6" data-line-number="6"><span class="kw">ggplot</span>(dfBar) <span class="op">+</span></a>
<a class="sourceLine" id="cb153-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">factor</span>(location,<span class="dt">levels =</span> level_order),<span class="dt">y=</span>deathsPerMillion)) <span class="op">+</span></a>
<a class="sourceLine" id="cb153-8" data-line-number="8"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">90</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb153-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Muertos por COVID por millones de habitantes&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Elaboración propia con base en datos de Our World In Data&quot;</span>)</a></code></pre></div>
<p>En la primera creamos el vector <strong>level_order</strong> que tiene los valores de la variable <strong>deathsPerMillion</strong>, la que queremos mostrar en el gráfico, ordenados de manera descendente. Luego, dentro de <strong>geom_col</strong> decimos que en el eje x queremos mostrar un <strong>factor</strong> de la variable <strong>location</strong>, pero con los levels (los niveles del factor) en el orden que nosotros queremos. Esta es una de las mejores formas de hacerlo, porque no necesitamos convertir como factor a la variable del data frame, sino directamente ggplot !</p>
</div>
<div id="cómo-hago-gráficos-de-barras-apiladas-stacked-bars" class="section level3">
<h3><span class="header-section-number">3.8.3</span> 3. ¿Cómo hago gráficos de barras apiladas (stacked bars)?</h3>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">library</span>(countrycode)</a>
<a class="sourceLine" id="cb154-2" data-line-number="2"></a>
<a class="sourceLine" id="cb154-3" data-line-number="3">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb154-4" data-line-number="4"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">continente=</span><span class="kw">countrycode</span>(<span class="dt">sourcevar =</span> location,<span class="dt">origin =</span> <span class="st">&quot;country.name&quot;</span>,<span class="dt">destination =</span> <span class="st">&quot;continent&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb154-5" data-line-number="5"><span class="st">         </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(continente)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb154-6" data-line-number="6"><span class="st">         </span><span class="kw">group_by</span>(date,continente) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb154-7" data-line-number="7"><span class="st">         </span><span class="kw">summarise</span>(<span class="dt">total_deaths=</span><span class="kw">sum</span>(total_deaths)) </a></code></pre></div>
<pre><code>## Warning in countrycode(sourcevar = location, origin = &quot;country.name&quot;, destination = &quot;continent&quot;): Some values were not matched unambiguously: International, Kosovo, Timor, World</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1"><span class="kw">ggplot</span>(dfBar, <span class="kw">aes</span>(<span class="dt">fill=</span>continente, <span class="dt">y=</span>total_deaths, <span class="dt">x=</span>date)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_col</span>(<span class="dt">position=</span><span class="st">&quot;stack&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-112-1.png" width="672" /></p>
</div>
<div id="cómo-hago-agrego-texto-a-los-gráficos" class="section level3">
<h3><span class="header-section-number">3.8.4</span> 4. ¿Cómo hago agrego texto a los gráficos?</h3>
<p>El texto en los gráficos de ggplot se introduce con <strong>geom_text()</strong>. Vamos a agregar texto a un gráfico apilado con la distribución por continente del COVID, similar a lo que hicimos anteriormente. La clave está en **geom_text(aes(label=round(shareContinente*100)),position = position_stack(vjust=0.5))**. Ahí le decimos a ggplot que queremos agregar texto y que muestre el porcentaje por continente (redondeado). En posicion le decimos que queremos que lo ponga en la mitad de cada barra (vjust=0.5)</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="kw">library</span>(countrycode)</a>
<a class="sourceLine" id="cb157-2" data-line-number="2"><span class="kw">library</span>(ggthemes)</a>
<a class="sourceLine" id="cb157-3" data-line-number="3">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-4" data-line-number="4"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">continente=</span><span class="kw">countrycode</span>(<span class="dt">sourcevar =</span> location,<span class="dt">origin =</span> <span class="st">&quot;country.name&quot;</span>,<span class="dt">destination =</span> <span class="st">&quot;continent&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-5" data-line-number="5"><span class="st">         </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(continente)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-6" data-line-number="6"><span class="st">         </span><span class="kw">group_by</span>(date,continente) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-7" data-line-number="7"><span class="st">         </span><span class="kw">summarise</span>(<span class="dt">total_deaths=</span><span class="kw">sum</span>(total_deaths)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-8" data-line-number="8"><span class="st">         </span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb157-9" data-line-number="9"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">shareContinente=</span>total_deaths<span class="op">/</span><span class="kw">sum</span>(total_deaths))</a></code></pre></div>
<pre><code>## Warning in countrycode(sourcevar = location, origin = &quot;country.name&quot;, destination = &quot;continent&quot;): Some values were not matched unambiguously: International, Kosovo, Timor, World</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="kw">ggplot</span>(dfBar <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(date<span class="op">&gt;</span><span class="st">&quot;2020-04-01&quot;</span>), <span class="kw">aes</span>(<span class="dt">fill=</span>continente, <span class="dt">y=</span>shareContinente, <span class="dt">x=</span>date)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb159-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_col</span>(<span class="dt">position=</span><span class="st">&quot;stack&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">round</span>(shareContinente<span class="op">*</span><span class="dv">100</span>)),<span class="dt">position =</span> <span class="kw">position_stack</span>(<span class="dt">vjust=</span><span class="fl">0.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-4" data-line-number="4"><span class="st">    </span><span class="kw">theme_fivethirtyeight</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb159-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">percent_format</span>()) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-6" data-line-number="6"><span class="st">    </span><span class="kw">scale_x_date</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2020-04-01&quot;</span>),<span class="kw">as.Date</span>(<span class="st">&quot;2020-05-10&quot;</span>),<span class="dt">by=</span><span class="dv">3</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-7" data-line-number="7"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">90</span>))</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-113-1.png" width="672" /></p>
</div>
<div id="cómo-cambio-el-rango-del-eje-x-o-y" class="section level3">
<h3><span class="header-section-number">3.8.5</span> 5. ¿Cómo cambio el rango del eje x o y?</h3>
<p>En este pequeño código la clave está en <strong>scale_y_continuous(limits = c(0,10))</strong>. Ahí le decimos que en la escala del eje y, que es continua, queremos que los límites estén entre 0 y 10. Si hay datos que están fuera de ese rango, no se mostrarán y ggplot nos dirá, con una advertencia, que algunos datos no se pudieron mostrar.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">require</span>(tidyverse)</a>
<a class="sourceLine" id="cb160-2" data-line-number="2"><span class="kw">require</span>(ggthemes)</a>
<a class="sourceLine" id="cb160-3" data-line-number="3"><span class="co"># Nos quedamos con los datos correspondiente a algunos países de América Latina</span></a>
<a class="sourceLine" id="cb160-4" data-line-number="4">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-5" data-line-number="5"><span class="st">         </span><span class="kw">group_by</span>(location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb160-6" data-line-number="6"><span class="st">         </span><span class="kw">filter</span>(<span class="kw">any</span>(total_deaths<span class="op">&gt;</span><span class="dv">10</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb160-7" data-line-number="7"><span class="st">         </span><span class="kw">filter</span>(location <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Argentina&quot;</span>,<span class="st">&quot;Brazil&quot;</span>,<span class="st">&quot;Chile&quot;</span>,<span class="st">&quot;Bolivia&quot;</span>,<span class="st">&quot;Paraguay&quot;</span>,<span class="st">&quot;Colombia&quot;</span>,<span class="st">&quot;Ecuador&quot;</span>,<span class="st">&quot;Uruguay&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb160-8" data-line-number="8"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">deathsPerMillion=</span>(total_deaths<span class="op">/</span>population)<span class="op">*</span><span class="dv">1000000</span>) </a>
<a class="sourceLine" id="cb160-9" data-line-number="9"><span class="co"># Código para el gráfico de lineas con scale cambiado                </span></a>
<a class="sourceLine" id="cb160-10" data-line-number="10"><span class="kw">ggplot</span>(dfBar) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-11" data-line-number="11"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date,<span class="dt">y=</span>deathsPerMillion,<span class="dt">group=</span>location,<span class="dt">color=</span>location)) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-12" data-line-number="12"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Muertos por COVID por millones de habitantes&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Elaboración propia con base en datos de Our World In Data&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-13" data-line-number="13"><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-14" data-line-number="14"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">10</span>)) </a></code></pre></div>
<pre><code>## Warning: Removed 71 row(s) containing missing values (geom_path).</code></pre>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-114-1.png" width="672" /></p>
</div>
<div id="cómo-cambio-la-tipografía" class="section level3">
<h3><span class="header-section-number">3.8.6</span> 6. ¿Cómo cambio la tipografía?</h3>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"><span class="co"># Extrafont nos ayuda a cargar las fuentes que tengamos en nuestra computadora</span></a>
<a class="sourceLine" id="cb162-2" data-line-number="2"><span class="kw">require</span>(extrafont)</a>
<a class="sourceLine" id="cb162-3" data-line-number="3"><span class="co"># Deben importar las fuentes a R. SOLO HAY QUE HACERLO UNA VEZ. puede llevar varios minutos</span></a>
<a class="sourceLine" id="cb162-4" data-line-number="4"><span class="co"># font_import()</span></a>
<a class="sourceLine" id="cb162-5" data-line-number="5"><span class="co"># con fonts() pueden ver las fuentes que pueden usar en el ggplot</span></a>
<a class="sourceLine" id="cb162-6" data-line-number="6"><span class="kw">require</span>(tidyverse)</a>
<a class="sourceLine" id="cb162-7" data-line-number="7"><span class="kw">require</span>(ggthemes)</a>
<a class="sourceLine" id="cb162-8" data-line-number="8"><span class="co"># Nos quedamos con los datos correspondiente a algunos países de América Latina</span></a>
<a class="sourceLine" id="cb162-9" data-line-number="9">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb162-10" data-line-number="10"><span class="st">         </span><span class="kw">group_by</span>(location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb162-11" data-line-number="11"><span class="st">         </span><span class="kw">filter</span>(<span class="kw">any</span>(total_deaths<span class="op">&gt;</span><span class="dv">10</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb162-12" data-line-number="12"><span class="st">         </span><span class="kw">filter</span>(location <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Argentina&quot;</span>,<span class="st">&quot;Brazil&quot;</span>,<span class="st">&quot;Chile&quot;</span>,<span class="st">&quot;Bolivia&quot;</span>,<span class="st">&quot;Paraguay&quot;</span>,<span class="st">&quot;Colombia&quot;</span>,<span class="st">&quot;Ecuador&quot;</span>,<span class="st">&quot;Uruguay&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb162-13" data-line-number="13"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">deathsPerMillion=</span>(total_deaths<span class="op">/</span>population)<span class="op">*</span><span class="dv">1000000</span>) </a>
<a class="sourceLine" id="cb162-14" data-line-number="14"><span class="co"># Código para el gráfico de lineas con scale cambiado                </span></a>
<a class="sourceLine" id="cb162-15" data-line-number="15"><span class="kw">ggplot</span>(dfBar) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-16" data-line-number="16"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date,<span class="dt">y=</span>deathsPerMillion,<span class="dt">group=</span>location,<span class="dt">color=</span>location)) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-17" data-line-number="17"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Muertos por COVID por millones de habitantes&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Elaboración propia con base en datos de Our World In Data&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-18" data-line-number="18"><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-19" data-line-number="19"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">10</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-20" data-line-number="20"><span class="st">  </span><span class="co"># Acá es donde usamos Verdana. Pueden ver el nombre de sus fuentes con fonts()</span></a>
<a class="sourceLine" id="cb162-21" data-line-number="21"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">text=</span><span class="kw">element_text</span>(<span class="dt">family=</span><span class="st">&quot;Verdana&quot;</span>))</a></code></pre></div>
<pre><code>## Warning: Removed 71 row(s) containing missing values (geom_path).</code></pre>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-115-1.png" width="672" /></p>
</div>
<div id="cómo-hago-treemaps" class="section level3">
<h3><span class="header-section-number">3.8.7</span> 7. ¿Cómo hago treemaps?</h3>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1"><span class="kw">library</span>(countrycode)</a>
<a class="sourceLine" id="cb164-2" data-line-number="2"><span class="kw">library</span>(treemapify)</a>
<a class="sourceLine" id="cb164-3" data-line-number="3"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb164-4" data-line-number="4"></a>
<a class="sourceLine" id="cb164-5" data-line-number="5">dfBar &lt;-<span class="st"> </span>infoCovid <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-6" data-line-number="6"><span class="st">         </span><span class="kw">mutate</span>(<span class="dt">continente=</span><span class="kw">countrycode</span>(<span class="dt">sourcevar =</span> location,<span class="dt">origin =</span> <span class="st">&quot;country.name&quot;</span>,<span class="dt">destination =</span> <span class="st">&quot;continent&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-7" data-line-number="7"><span class="st">         </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(continente)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-8" data-line-number="8"><span class="st">         </span><span class="kw">group_by</span>(continente,location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-9" data-line-number="9"><span class="st">         </span><span class="kw">summarise</span>(<span class="dt">total_deaths=</span><span class="kw">sum</span>(new_deaths)) </a></code></pre></div>
<pre><code>## Warning in countrycode(sourcevar = location, origin = &quot;country.name&quot;, destination = &quot;continent&quot;): Some values were not matched unambiguously: International, Kosovo, Timor, World</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1"><span class="kw">ggplot</span>(dfBar,<span class="kw">aes</span>(<span class="dt">area=</span>total_deaths,<span class="dt">fill=</span>continente,<span class="dt">subgroup=</span>continente,<span class="dt">label=</span><span class="kw">paste</span>(location,<span class="st">&quot;(&quot;</span>,total_deaths,<span class="st">&quot;)&quot;</span>,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb166-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_treemap</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb166-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_treemap_subgroup_text</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb166-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_treemap_text</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb166-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_fill_wsj</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb166-6" data-line-number="6"><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill=</span><span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb166-7" data-line-number="7"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Total de muertes por pais y continente&quot;</span>,</a>
<a class="sourceLine" id="cb166-8" data-line-number="8">         <span class="dt">subtitle=</span><span class="st">&quot;Datos hasta el 10 de mayo de 2020&quot;</span>,</a>
<a class="sourceLine" id="cb166-9" data-line-number="9">         <span class="dt">caption=</span><span class="st">&quot;Elaboracion propia en base a datos de Our World In Data&quot;</span>)</a></code></pre></div>
<p><img src="CienciaDeDatosParaCuriosos_files/figure-html/unnamed-chunk-116-1.png" width="672" /></p>
</div>
</div>
<div id="material-de-lectura" class="section level2">
<h2><span class="header-section-number">3.9</span> Material de lectura</h2>
<p><a href="https://ggplot2-book.org/"><em>ggplot2: Elegant Graphics for Data Analysis</em>, Hadley Wickham</a></p>
<p><a href="https://www.goodreads.com/book/show/26401716-the-truthful-art"><em>The Truthful Art: Data, Charts, and Maps for Communication</em>, Alberto Cairo</a>
<a href="https://www.r-graph-gallery.com/"><em>Galería de ejemplos para cientos de gráficos en ggplot</em></a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="transformando-nuestros-datos-data-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datos-espaciales-en-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
